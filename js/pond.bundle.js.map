{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/background/background.js","webpack:///./src/background/plants/cattail.js","webpack:///./src/background/plants/flowerBush.js","webpack:///./src/background/plants/irisEnsataVariegata.js","webpack:///./src/background/plants/lobeliaCardinalis.js","webpack:///./src/background/plants/longGrass.js","webpack:///./src/background/plants/tree.js","webpack:///./src/background/rock.js","webpack:///./src/colours.js","webpack:///./src/creature/fish.js","webpack:///./src/creature/lily.js","webpack:///./src/creature/tadpole.js","webpack:///./src/menu.js","webpack:///./src/movement/collisions.js","webpack:///./src/movement/fishMovement.js","webpack:///./src/movement/lilyMovement.js","webpack:///./src/movement/movement.js","webpack:///./src/movement/tadMovement.js","webpack:///./src/movement/water/ripple.js","webpack:///./src/movement/water/water.js","webpack:///./src/mystyles.scss","webpack:///./src/pond.js"],"names":["Background","canvas","ctx","width","height","pos","size","pondColour","colours","ocean_blue","landColour","pea","createLand","canvasB","document","createElement","ctxB","getContext","save","fillStyle","fillRect","globalCompositeOperation","arc","Math","PI","fill","restore","grassCount","aroundPond","LongGrass","rockCount","edgeOfPond","Rock","ceil","random","FlowerBush","cattailCount","Cattail","Tree","count","entity","surrounded","angle","x","cos","y","sin","dis","sqrt","pow","setPos","render","i","pondEdge","isColliding","drawImage","dxa","dya","dxb","dyb","lenA","lenB","length","stemLength","stemThickness","stemColour","dark_green","headLength","headThickness","headColour","olive","tipLength","tipThickness","tipColour","khaki","rotation","translate","rotate","drawLine","start","thickness","colour","beginPath","lineCap","strokeStyle","lineWidth","moveTo","lineTo","stroke","s","flower","IrisEnsataVariegata","drawBush","w","h","forest_green","bezierCurveTo","yellow_green","purple","drawPetal","indigo","yellow","drawInnerPetal","LobeliaCardinalis","drawTree","dx","dy","drawBranch","leaf_brown","drawSakuraLeaf","bark","pointCountAvg","circPos","nextPoint","push","pop","generatePoints","points","a","rock_gray","gray","drawLines","b","c","d","dark_gray","deep_blue","pond_shadow","orange_peel","light_green","lily_green","pink","delicate_pink","light_pink","registration_black","rasin_black","Fish","getElementById","value","vel","floor","colourA","colourB","createRadialGradient","addColorStop","swimming","angles","left","atan2","shift","drawfish","offsetArr","shadow","offset","t","f","fishShape","Lily","startAngle","clockwise","isFlower","drawFlower","firstRing","drawRing","Tadpole","leader","follow","eagerness","tadpoles","leaders","Menu","pond","hide","refresh","hidden","screenRatio","addEventListener","e","target","checked","style","display","tadpoleSize","fishSize","lilySize","init","tab1butt","tab1","pag1","tab2butt","tab2","pag2","tab3butt","tab3","pag3","classList","add","remove","Collisions","fish","lillies","background","movement","len","smoothing","j","FishMovement","collisions","spacing","water","wiggleRate","wiggleSize","speed","entities","edgeCheck","slowing","reduce","velx","vely","dropAt","checkFish","redFactor","velX","velY","Movement","LilyMovement","checkLillies","index","prevVel","limit","TadMovement","leaderChance","followChance","getLeader","leaderPos","disX","disY","checkTadpoles","Ripple","vx","vy","maxSize","minSize","Water","ripples","forEach","r","tick","splice","Pond","eventListeners","resize","loop","menu","mousemovecount","event","clientX","clientY","setBackground","tad","window","requestAnimationFrame","m","move","l","renderPond","renderLand","innerWidth","innerHeight","require"],"mappings":"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","file":"./js/pond.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/pond.js\");\n","import colours from '../colours';\r\nimport Rock from './rock';\r\nimport Cattail from './plants/cattail';\r\nimport LongGrass from './plants/longGrass';\r\nimport Tree from './plants/tree';\r\nimport LobeliaCardinalis from './plants/lobeliaCardinalis';\r\nimport FlowerBush from './plants/flowerBush';\r\n\r\n/**\r\n * BACKGROUND:\r\n * This class creates the bank of the pond and checks to see if fish are\r\n * colliding with it\r\n */\r\nclass Background {\r\n  constructor(canvas, ctx) {\r\n    if (canvas.width < canvas.height) {\r\n      this.pos = [canvas.width/2, (canvas.height/8) * 3,\r\n                  canvas.width/2, (canvas.height/8) * 5];\r\n      this.size = canvas.width/2;\r\n    } else {\r\n      this.pos = [(canvas.width/8) * 3, canvas.height/2,\r\n                  (canvas.width/8) * 5, canvas.height/2];\r\n      this.size = canvas.height/2;\r\n    }\r\n    this.pondColour = colours.ocean_blue;\r\n    this.landColour = colours.pea;\r\n    this.createLand(canvas, ctx);\r\n\r\n  }\r\n\r\n  createLand(canvas, ctx) {\r\n    // Create a mask and cuts 2 circles out of it then draws it to the canvas\r\n    this.canvasB = document.createElement('canvas');\r\n    this.canvasB.width = canvas.width;\r\n    this.canvasB.height = canvas.height;\r\n    let ctxB = this.canvasB.getContext('2d');\r\n    ctxB.save();\r\n    ctxB.fillStyle = this.landColour;\r\n    ctxB.fillRect(0, 0, canvas.width, canvas.height);\r\n    ctxB.globalCompositeOperation = 'xor';\r\n    ctxB.arc(this.pos[0], this.pos[1], this.size, 0, Math.PI * 2);\r\n    ctxB.arc(this.pos[2], this.pos[3], this.size, 0, Math.PI * 2);\r\n    ctxB.fill();\r\n    ctxB.restore();\r\n\r\n    // Draw grassCount number of grass on pond bank\r\n    let grassCount = this.size * 5;\r\n    this.aroundPond(grassCount, new LongGrass(this.canvasB, ctxB, this.size));\r\n    // Draw rockCount number of rocks around Pond\r\n    let rockCount = 100;\r\n    this.edgeOfPond(rockCount, new Rock(this.canvasB, ctxB, this.size));\r\n    // 25% chance to draw stepping stones\r\n    // TODO: Draw Stepping stones\r\n\r\n    // Draw Flowers\r\n    this.aroundPond(Math.ceil(Math.random() * this.size/80), new FlowerBush(this.canvasB, ctxB, this.size));\r\n\r\n    // Draw cattailCount number of cattails around pond\r\n    let cattailCount = 30;\r\n    this.edgeOfPond(cattailCount, new Cattail(this.canvasB, ctxB, this.size));\r\n    // 75% chance of tree around pond\r\n    if (Math.random() < 0.75) {\r\n      this.aroundPond(1, new Tree(this.canvasB, ctxB, this.size));\r\n    }\r\n  }\r\n\r\n\r\n  edgeOfPond(count, entity) {\r\n    let surrounded = true;\r\n    let angle = 0;\r\n\r\n    while (surrounded) {\r\n      let x = this.size * Math.cos(angle) + this.pos[0];\r\n      let y = this.size * Math.sin(angle) + this.pos[1];\r\n      let pos = [x, y];\r\n      let dis = Math.sqrt(Math.pow(x - this.pos[2], 2) + Math.pow(y - this.pos[3], 2));\r\n      if (dis > this.size) {\r\n        entity.setPos(pos);\r\n        entity.render();\r\n      }\r\n\r\n      x += this.pos[2] - this.pos[0];\r\n      y += this.pos[3] - this.pos[1];\r\n      pos = [x, y];\r\n      dis = Math.sqrt(Math.pow(x - this.pos[0], 2) + Math.pow(y - this.pos[1], 2));\r\n      if (dis > this.size) {\r\n        entity.setPos(pos);\r\n        entity.render();\r\n      }\r\n      if (angle > count * 25)\r\n        surrounded = false;\r\n      else\r\n        angle += Math.random() * 50;\r\n    }\r\n  }\r\n\r\n  aroundPond(count, entity) {\r\n    for (let i = 0; i < count; i++) {\r\n      let pondEdge = false;\r\n      let pos;\r\n      while (!pondEdge) {\r\n        pos = [Math.random() * entity.canvas.width, Math.random() * entity.canvas.height];\r\n        if (this.isColliding(pos) != null) {\r\n          pondEdge = true;\r\n        }\r\n      }\r\n      entity.setPos(pos);\r\n      entity.render();\r\n    }\r\n  }\r\n\r\n  withinPond(count, entity) {\r\n    // TODO: Code to put all entities within the pond\r\n  }\r\n\r\n  renderPond(canvas, ctx) {\r\n    ctx.fillStyle = this.pondColour;\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n  }\r\n\r\n  // Draws loaded template\r\n  renderLand(canvas, ctx) {\r\n    ctx.drawImage(this.canvasB, 0, 0);\r\n  }\r\n\r\n  isColliding(pos) {\r\n    // Calculate if the object will collide with the wall\r\n    let dxa = pos[0] - this.pos[0];\r\n    let dya = pos[1] - this.pos[1];\r\n    let dxb = pos[0] - this.pos[2];\r\n    let dyb = pos[1] - this.pos[3];\r\n    let lenA = Math.sqrt(Math.pow(dxa, 2) + Math.pow(dya, 2));\r\n    let lenB = Math.sqrt(Math.pow(dxb, 2) + Math.pow(dyb, 2));\r\n    if (lenA < this.size || lenB < this.size) {\r\n      return null;\r\n    }\r\n    // return collision info here\r\n    if (lenB > lenA) {\r\n      return [this.pos[0], this.pos[1]];\r\n    } else {\r\n      return [this.pos[2], this.pos[3]];\r\n    }\r\n  }\r\n}\r\n\r\nexport default Background;\r\n","import colours from '../../colours';\r\n\r\n/**\r\n * CATTAIL class\r\n * Draws a cattail of a random angle at a position on the canvas\r\n */\r\nclass Cattail {\r\n  constructor(canvas, ctx, size) {\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n    this.size = size/2 + size/2 * Math.random();\r\n  }\r\n\r\n  setPos(pos) {\r\n    this.pos = pos;\r\n  }\r\n\r\n  render() {\r\n    let length = Math.random();\r\n    let stemLength = this.size/8 * length;\r\n    let stemThickness = this.size/64;\r\n    let stemColour = colours.dark_green;\r\n    let headLength = this.size/15 * length;\r\n    let headThickness = this.size/20;\r\n    let headColour = colours.olive;\r\n    let tipLength = this.size/40 * length;\r\n    let tipThickness = this.size/120;\r\n    let tipColour = colours.khaki;\r\n    let rotation = Math.random() * 2 * Math.PI;\r\n\r\n    this.ctx.save();\r\n    this.ctx.translate(this.pos[0], this.pos[1]);\r\n    this.ctx.rotate(rotation);\r\n    this.drawLine(0, stemLength, stemThickness, stemColour);\r\n    this.drawLine(stemLength + stemThickness, headLength, headThickness, headColour);\r\n    this.drawLine(stemLength + stemThickness + headLength, tipLength, tipThickness, tipColour);\r\n    this.ctx.restore();\r\n  }\r\n\r\n  drawLine(start, length, thickness, colour) {\r\n    this.ctx.beginPath();\r\n    this.ctx.lineCap = \"round\";\r\n    this.ctx.strokeStyle = colour;\r\n    this.ctx.lineWidth = thickness;\r\n    this.ctx.moveTo(0, start);\r\n    this.ctx.lineTo(0, length + start);\r\n    this.ctx.stroke();\r\n  }\r\n\r\n}\r\n\r\nexport default Cattail;\r\n","import colours from '../../colours';\r\nimport LongGrass from './longGrass';\r\nimport IrisEnsataVariegata  from './irisEnsataVariegata';\r\n\r\nclass FlowerBush {\r\n  constructor(canvas, ctx, size) {\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n    this.size = size;\r\n  }\r\n\r\n  setPos(pos) {\r\n    this.pos = pos;\r\n  }\r\n  // ctx.save pushes current state onto stack therefore\r\n  // multiple saves can be used to minimize code\r\n  render() {\r\n    let s = this.size/15;\r\n    let flower = new IrisEnsataVariegata(this.canvas, this.ctx, this.size);\r\n    let x = this.pos[0];\r\n    let y = this.pos[1];\r\n\r\n    this.drawBush(x, y)\r\n\r\n    flower.setPos([0, 0]);\r\n    this.ctx.save();\r\n\r\n    this.ctx.translate(x, y);\r\n    this.ctx.save();\r\n    this.ctx.rotate(Math.random() * 2 * Math.PI);\r\n    flower.render();\r\n    this.ctx.restore();\r\n    this.ctx.translate(0, s * 1.2);\r\n    this.ctx.save();\r\n    this.ctx.rotate(Math.random() * 2 * Math.PI);\r\n    flower.render();\r\n    this.ctx.restore();\r\n    this.ctx.translate(-s, - (2 * s));\r\n    this.ctx.save();\r\n    this.ctx.rotate(Math.random() * 2 * Math.PI);\r\n    flower.render();\r\n    this.ctx.restore();\r\n    this.ctx.translate((2 * s), 0);\r\n    this.ctx.rotate(Math.random() * 2 * Math.PI);\r\n    flower.render();\r\n\r\n    this.ctx.restore();\r\n\r\n  }\r\n\r\n  drawBush(x, y) {\r\n    let w = this.size/20;\r\n    let h = w * 6;\r\n    this.ctx.save();\r\n    this.ctx.translate(x, y);\r\n\r\n    for (let i = 0; i < Math.PI; i += Math.PI/10) {\r\n      this.ctx.save();\r\n      this.ctx.rotate(i);\r\n      this.ctx.beginPath();\r\n      this.ctx.fillStyle = colours.forest_green;\r\n      this.ctx.moveTo(0, - h / 2);\r\n      this.ctx.bezierCurveTo(w / 2, - h / 2, w / 2, h / 2, 0, h / 2);\r\n      this.ctx.bezierCurveTo(- w / 2, h / 2, - w / 2, - h / 2, 0, - h / 2);\r\n      this.ctx.fill();\r\n      this.ctx.beginPath();\r\n      this.ctx.strokeStyle = colours.yellow_green;\r\n      this.ctx.moveTo(0, - h / 2);\r\n      this.ctx.bezierCurveTo(w / 2, - h / 2, w / 2, h / 2, 0, h / 2);\r\n      this.ctx.bezierCurveTo(- w / 2, h / 2, - w / 2, - h / 2, 0, - h / 2);\r\n      this.ctx.stroke();\r\n      this.ctx.restore();\r\n    }\r\n    this.ctx.restore();\r\n  }\r\n}\r\n\r\nexport default FlowerBush;\r\n","import colours from '../../colours';\r\nimport LongGrass from './longGrass';\r\n\r\nclass IrisEnsataVariegata {\r\n  constructor(canvas, ctx, size) {\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n    this.size = size/180;\r\n  }\r\n\r\n  setPos(pos) {\r\n    this.pos = pos;\r\n  }\r\n\r\n  render() {\r\n    let x = this.pos[0];\r\n    let y = this.pos[1];\r\n    for (let i = 0; i <= 2 * Math.PI; i+=(2/3) * Math.PI) {\r\n      this.ctx.save();\r\n      this.ctx.translate(x, y);\r\n      this.ctx.rotate(i);\r\n\r\n      this.ctx.beginPath();\r\n      this.ctx.fillStyle = colours.purple;\r\n      this.drawPetal(0, -this.size/2);\r\n      this.ctx.fill();\r\n      this.ctx.beginPath();\r\n      this.ctx.strokeStyle = colours.indigo;\r\n      this.drawPetal(0, -this.size/2);\r\n      this.ctx.stroke();\r\n\r\n      this.ctx.beginPath();\r\n      this.ctx.fillStyle = colours.yellow;\r\n      this.drawInnerPetal(0, -this.size/2);\r\n      this.ctx.fill();\r\n\r\n      this.ctx.restore();\r\n    }\r\n  }\r\n\r\n  drawPetal(x, y) {\r\n    let s = this.size;\r\n    this.ctx.moveTo(x, y);\r\n    this.ctx.bezierCurveTo(x - (2*s), y - (1*s), x - (2*s), y - (1*s), x - (3*s), y - (5*s));\r\n    this.ctx.bezierCurveTo(x - (2*s), y - (6*s), x - (2*s), y - (6*s), x        , y - (5*s));\r\n    this.ctx.bezierCurveTo(x + (2*s), y - (6*s), x + (2*s), y - (6*s), x + (3*s), y - (5*s));\r\n    this.ctx.bezierCurveTo(x + (2*s), y - (1*s), x + (2*s), y - (1*s), x        , y        );\r\n  }\r\n\r\n  drawInnerPetal(x, y) {\r\n    let s = this.size;\r\n    this.ctx.moveTo(x        , y        );\r\n    this.ctx.lineTo(x - (s/2), y - (s/2));\r\n    this.ctx.lineTo(x        , y - (3*s));\r\n    this.ctx.lineTo(x + (s/2), y - (s/2));\r\n    this.ctx.lineTo(x        , y        );\r\n  }\r\n}\r\n\r\nexport default IrisEnsataVariegata;\r\n","import colours from '../../colours';\r\n\r\nclass LobeliaCardinalis {\r\n  constructor(canvas, ctx, size) {\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n    this.size = size;\r\n  }\r\n\r\n  setPos(pos) {\r\n    this.pos = pos;\r\n  }\r\n\r\n  render() {\r\n\r\n  }\r\n}\r\n\r\nexport default LobeliaCardinalis;\r\n","import colours from '../../colours';\r\n\r\nclass LongGrass {\r\n  constructor(canvas, ctx, size) {\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n    this.size = size;\r\n  }\r\n\r\n  setPos(pos) {\r\n    this.pos = pos;\r\n  }\r\n\r\n  render() {\r\n    let w = this.size/40;\r\n    let h = w * 6;\r\n    let rotation = Math.random() * Math.PI;\r\n    this.ctx.save();\r\n    this.ctx.translate(this.pos[0], this.pos[1]);\r\n    this.ctx.rotate(rotation);\r\n    this.ctx.beginPath();\r\n    this.ctx.fillStyle = colours.forest_green;\r\n    this.ctx.moveTo(0, - h / 2);\r\n    this.ctx.bezierCurveTo(w / 2, - h / 2, w / 2, h / 2, 0, h / 2);\r\n    this.ctx.bezierCurveTo(- w / 2, h / 2, - w / 2, - h / 2, 0, - h / 2);\r\n    this.ctx.fill();\r\n    this.ctx.beginPath();\r\n    this.ctx.strokeStyle = colours.dark_green;\r\n    this.ctx.moveTo(0, - h / 2);\r\n    this.ctx.bezierCurveTo(w / 2, - h / 2, w / 2, h / 2, 0, h / 2);\r\n    this.ctx.bezierCurveTo(- w / 2, h / 2, - w / 2, - h / 2, 0, - h / 2);\r\n    this.ctx.stroke();\r\n    this.ctx.restore();\r\n  }\r\n\r\n}\r\n\r\nexport default LongGrass;\r\n","import colours from '../../colours';\r\n\r\nclass Tree {\r\n  constructor(canvas, ctx, size) {\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n    this.size = size;\r\n  }\r\n\r\n  setPos(pos) {\r\n    this.pos = pos;\r\n  }\r\n\r\n  render() {\r\n    // Change for initial thickness\r\n    let w = this.size/20;\r\n\r\n    this.ctx.save();\r\n    this.ctx.translate(this.pos[0], this.pos[1]);\r\n    for (let i = 0; i < Math.PI * 2; i += Math.PI/8) {\r\n      this.ctx.rotate(i);\r\n      this.drawTree(0, 0, w);\r\n    }\r\n    // this.drawLeaf(0,0,this.size/200);\r\n    this.ctx.restore();\r\n\r\n  }\r\n\r\n  drawTree(x, y, w) {\r\n    for (let i = 0; i < 2; i++) {\r\n      // Change the amount for spread of the tree\r\n      let dx = Math.random() * this.size/7;\r\n      let dy = Math.random() * this.size/7;\r\n      this.drawBranch(x, y, dx, dy, w);\r\n      // Change for minimum branch thickness\r\n      if (w > this.size/80) {\r\n        // Change w amount for change in thickness\r\n        this.drawTree(x + dx, y + dy, w/1.75);\r\n      }\r\n      this.ctx.fillStyle = colours.leaf_brown;\r\n      this.drawSakuraLeaf(x + dx, y + dy, this.size/200);\r\n    }\r\n\r\n  }\r\n\r\n  drawSakuraLeaf(x, y, w) {\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(x, y);\r\n    this.ctx.bezierCurveTo(x - (4 * w), y     , x - (4 * w), y     , x - (8 * w), y - (2 * w));\r\n    this.ctx.bezierCurveTo(x - (4 * w), y - (2 * w), x - (4 * w), y - (2 * w), x     , y     );\r\n\r\n    this.ctx.bezierCurveTo(x + (4 * w), y     , x + (4 * w), y     , x + (8 * w), y - (2 * w));\r\n    this.ctx.bezierCurveTo(x + (4 * w), y - (2 * w), x + (4 * w), y - (2 * w), x     , y     );\r\n\r\n    this.ctx.bezierCurveTo(x - (6 * w), y     , x - (6 * w), y     , x - (12 * w), y + (4 * w));\r\n    this.ctx.bezierCurveTo(x - (6 * w), y + (4 * w), x - (6 * w), y + (4 * w), x     , y     );\r\n\r\n    this.ctx.bezierCurveTo(x + (6 * w), y     , x + (6 * w), y     , x + (12 * w), y + (4 * w));\r\n    this.ctx.bezierCurveTo(x + (6 * w), y + (4 * w), x + (6 * w), y + (4 * w), x     , y     );\r\n\r\n    this.ctx.bezierCurveTo(x - (3 * w), y + (7 * w), x - (3 * w), y + (7 * w), x - (10 * w), y + (12 * w));\r\n    this.ctx.bezierCurveTo(x - (6 * w), y + (5 * w), x - (8 * w), y + (5 * w), x     , y     );\r\n\r\n    this.ctx.bezierCurveTo(x + (3 * w), y + (7 * w), x + (3 * w), y + (7 * w), x + (10 * w), y + (12 * w));\r\n    this.ctx.bezierCurveTo(x + (6 * w), y + (5 * w), x + (8 * w), y + (5 * w), x     , y     );\r\n\r\n    this.ctx.bezierCurveTo(x - (3 * w), y + (9 * w), x - (3 * w), y + (9 * w), x     , y + (18 * w));\r\n    this.ctx.bezierCurveTo(x + (3 * w), y + (9 * w), x + (3 * w), y + (9 * w), x     , y     );\r\n\r\n    this.ctx.fill();\r\n  }\r\n\r\n  drawBranch(x, y, dx, dy, w) {\r\n    this.ctx.beginPath();\r\n    this.ctx.lineWidth = w;\r\n    this.ctx.lineCap = \"round\";\r\n    this.ctx.strokeStyle = colours.bark;\r\n    this.ctx.moveTo(x, y);\r\n    this.ctx.lineTo(x + dx, y + dy);\r\n    this.ctx.stroke();\r\n  }\r\n\r\n}\r\n\r\nexport default Tree;\r\n","import colours from '../colours';\r\n\r\nclass Rock {\r\n  constructor(canvas, ctx, size) {\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n    this.size = size;\r\n  }\r\n\r\n  setPos(pos) {\r\n    this.pos = pos;\r\n  }\r\n\r\n  generatePoints() {\r\n    let pointCountAvg = 8;\r\n    this.circPos = [((360/pointCountAvg) * Math.random() * 2)];\r\n    while (this.circPos[this.circPos.length - 1] < 360) {\r\n      let nextPoint = this.circPos[this.circPos.length - 1] + (360/pointCountAvg/2) + (360/pointCountAvg/2) * Math.random() * 2;\r\n      this.circPos.push(nextPoint);\r\n    }\r\n    this.circPos.pop();\r\n  }\r\n\r\n  render() {\r\n    this.generatePoints();\r\n    let size = this.size/20 + this.size/20 * Math.random();\r\n    let points = [];\r\n    for (let a = 0; a < this.circPos.length; a++) {\r\n      let x = size * Math.cos(this.circPos[a] * (Math.PI/180)) + this.pos[0];\r\n      let y = size * Math.sin(this.circPos[a] * (Math.PI/180)) + this.pos[1];\r\n      points.push([x,y]);\r\n      x = size*5/8 * Math.cos(this.circPos[a] * (Math.PI/180)) + this.pos[0];\r\n      y = size*5/8 * Math.sin(this.circPos[a] * (Math.PI/180)) + this.pos[1];\r\n      points.push([x,y]);\r\n    }\r\n\r\n    this.ctx.beginPath();\r\n    this.ctx.fillStyle = colours.rock_gray;\r\n    this.ctx.moveTo(points[0][0], points[0][1]);\r\n    for (let a = 2; a < points.length; a+= 2)\r\n      this.ctx.lineTo(points[a][0], points[a][1]);\r\n    this.ctx.fill();\r\n\r\n    this.ctx.beginPath();\r\n    this.ctx.fillStyle = colours.gray;\r\n    this.ctx.moveTo(points[1][0], points[1][1]);\r\n    for (let a = 1; a < points.length; a+= 2)\r\n      this.ctx.lineTo(points[a][0], points[a][1]);\r\n    this.ctx.fill();\r\n\r\n    for (let a = 0; a < points.length - 2; a+= 2) {\r\n      this.drawLines(points[a], points[a+1], points[a+2], points[a+3]);\r\n    }\r\n    this.drawLines(points[points.length-2], points[points.length-1], points[0], points[1]);\r\n  }\r\n\r\n  drawLines(a, b, c, d) {\r\n    this.ctx.beginPath();\r\n    this.ctx.strokeStyle = colours.dark_gray;\r\n    this.ctx.moveTo(a[0], a[1]);\r\n    this.ctx.lineTo(b[0], b[1]);\r\n    this.ctx.lineTo(d[0], d[1]);\r\n    this.ctx.lineTo(c[0], c[1]);\r\n    this.ctx.lineTo(a[0], a[1]);\r\n    this.ctx.stroke();\r\n  }\r\n\r\n}\r\n\r\nexport default Rock;\r\n","export default {\r\n  // Daytime\r\n  ocean_blue: '#94D0FF',\r\n  deep_blue: 'rgba(135,149,232,0.7)',\r\n  pond_shadow: 'rgba(11, 45, 99, 0.7)',\r\n  yellow: '#fdf3b8',\r\n  orange_peel: '#FCC08F',\r\n  bark: '#917e7e',\r\n  khaki: '#F0E68C',\r\n  olive: '#808000',\r\n  forest_green: '#68BA71',\r\n  dark_green: '#388941',\r\n  pea: '#60A568',\r\n  yellow_green: '#acff78',\r\n  light_green: '#90ee90',\r\n  lily_green: '#B4E8AC',\r\n  pink: '#FF6AD5',\r\n  leaf_brown: '#ecb4bf',\r\n  delicate_pink: '#FF9BE2',\r\n  light_pink: '#FFBCEC',\r\n  purple: '#9370DB',\r\n  indigo: '#4B0082',\r\n  registration_black: '#000000',\r\n  rasin_black: '#212121',\r\n  dark_gray: '#474747',\r\n  rock_gray: '#606060',\r\n  gray: '#808080'\r\n};\r\n","/**\r\n * This class contains all information for each fish\r\n */\r\n\r\nimport colours from '../colours';\r\n\r\nclass Fish {\r\n  constructor(canvas, ctx, size) {\r\n    // Random Position on canvas\r\n    this.pos = [Math.random() * canvas.width, Math.random() * canvas.height];\r\n    // Random size this.size-this.size * (3/2)\r\n    this.size = size/40 * (document.getElementById('fishsize').value / 10);\r\n    // Random velocity [-1, -1] - [1, 1]\r\n    this.vel = [(Math.random() - 0.5) * 2, (Math.random() - 0.5) * 2];\r\n    // Colour\r\n    switch (Math.floor(Math.random() * 4)) {\r\n      // Beni-goi (are entirely red/orange)\r\n      case 0:\r\n        this.colourA = colours.orange_peel;\r\n        this.colourB = colours.yellow;\r\n        break;\r\n      // ki-goi (are entirely yellow/gold)\r\n      case 1:\r\n        this.colourA = colours.yellow;\r\n        this.colourB = colours.orange_peel;\r\n        break;\r\n      // Tancho (White with a red mark on the head but no red on body)\r\n      case 2:\r\n        this.colourA = ctx.createRadialGradient(0,0,this.size/4,0,0,this.size * 4);\r\n        this.colourA.addColorStop(0, \"red\");\r\n        this.colourA.addColorStop(0.25, \"white\");\r\n        this.colourA.addColorStop(1, \"white\");\r\n        this.colourB = colours.yellow;\r\n        break;\r\n      // Karasugoi (are entirely black/dark gray)\r\n      case 3:\r\n        this.colourA = colours.dark_gray;\r\n        this.colourB = \"white\";\r\n        break;\r\n      default:\r\n        this.colourA = colours.registration_black;\r\n        this.colourB = colours.registration_black;\r\n    }\r\n    // Extra Variables\r\n    this.swimming = true;\r\n    this.sin = 0;\r\n    this.angle = 0;\r\n    this.angles = [0, 0, 0, 0, 0, 0];\r\n    this.left = true;\r\n  }\r\n\r\n  /**\r\n   * TICK - Moves the entity and modifies any frame based values\r\n   */\r\n  tick() {\r\n    // sin is the angle along sin that the fish is swimming along\r\n    if (this.swimming) {\r\n      this.sin++;\r\n      if (this.sin > 1440)\r\n        this.sin = 0;\r\n    }\r\n    this.pos[0] += this.vel[0];\r\n    this.pos[1] += this.vel[1];\r\n\r\n    this.angle = Math.atan2(this.vel[1], this.vel[0]);\r\n  }\r\n\r\n  /**\r\n   * RENDER - Draws a head, a body, a tail and some fins\r\n   */\r\n  render(canvas, ctx) {\r\n    this.angles.push(this.angle);\r\n    this.angles.shift();\r\n\r\n    ctx.save();\r\n    ctx.translate(this.pos[0], this.pos[1]);\r\n    ctx.rotate(this.angle - Math.PI / 2);\r\n    ctx.lineWidth = 1;\r\n    this.drawfish(canvas, ctx, 0, 0, this.angles, true);\r\n    ctx.restore();\r\n\r\n    ctx.save();\r\n    ctx.translate(this.pos[0] - 10, this.pos[1] - 10);\r\n    ctx.rotate(this.angle - Math.PI / 2);\r\n    ctx.lineWidth = 1;\r\n    this.drawfish(canvas, ctx, 0, 0, this.angles, false);\r\n    ctx.restore();\r\n\r\n  }\r\n\r\n  drawfish(canvas, ctx, x, y, offsetArr, shadow) {\r\n    let offset = (offsetArr[0] - offsetArr[1]) * 100;\r\n    if (offset > 10) {\r\n      offset = 10;\r\n    } else if (offset < -10) {\r\n      offset = -10;\r\n    }\r\n    // Body Coordinates\r\n    let t = [x - this.size / 2 + offset, y - this.size * 5, x + this.size / 2 + offset, y - this.size * 5];\r\n    // Head Coordinates\r\n    let h = [x - this.size * (3 / 2), y, x + this.size * (3 / 2), y];\r\n    // Tail Coordinates\r\n    let f = [t[0] + offset - this.size / 2, t[1] - this.size, t[2] + offset + this.size / 2, t[3] - this.size];\r\n    // Fin Coordinates\r\n    let a = [h[0] - this.size - offset, h[1] - this.size, h[2] + this.size + offset, h[3] - this.size];\r\n\r\n    if (shadow)\r\n      ctx.fillStyle = colours.deep_blue;\r\n    else\r\n      ctx.fillStyle = this.colourA;\r\n\r\n    ctx.beginPath();\r\n    this.fishShape(canvas, ctx, x, y, h, t, f, a);\r\n    ctx.fill();\r\n\r\n    if (!shadow) {\r\n      ctx.strokeStyle = this.colourB;\r\n      ctx.beginPath();\r\n      this.fishShape(canvas, ctx, x, y, h, t, f, a);\r\n      ctx.stroke();\r\n    }\r\n\r\n  }\r\n\r\n  fishShape(canvas, ctx, x, y, h, t, f, a) {\r\n    // Head\r\n    ctx.moveTo(h[0], h[1]);\r\n    ctx.bezierCurveTo(x - this.size * (3 / 2), y + this.size * 2, x + this.size * (3 / 2), y + this.size * 2, h[2], h[3]);\r\n    // L fin\r\n    ctx.bezierCurveTo(a[2], h[3] - this.size / 2, a[2], h[3] - this.size / 2, a[2], a[3]);\r\n    ctx.bezierCurveTo(h[2] - this.size * (1 / 10), h[3] - this.size * (3 / 2), h[2] - this.size * (1 / 5), h[3] - this.size * (3 / 2), h[2], h[3] - this.size * (4 / 5));\r\n    ctx.lineTo(h[2], h[3]);\r\n    // L body\r\n    ctx.bezierCurveTo(x + this.size, y - this.size * (5 / 2), x + this.size, y - this.size * (5 / 2), t[2], t[3]);\r\n    // Tail\r\n    ctx.lineTo(f[2], f[3]);\r\n    ctx.lineTo(f[0], f[1]);\r\n    ctx.lineTo(t[0], t[1]);\r\n    // R body\r\n    ctx.bezierCurveTo(x - this.size, y - this.size * (5 / 2), x - this.size, y - this.size * (5 / 2), h[0], h[1]);\r\n    // R fin\r\n    ctx.bezierCurveTo(a[0], h[1] - this.size / 2, a[0], h[1] - this.size / 2, a[0], a[1]);\r\n    ctx.bezierCurveTo(h[0] + this.size * (1 / 10), h[1] - this.size * (3 / 2), h[0] + this.size * (1 / 5), h[1] - this.size * (3 / 2), h[0], h[1] - this.size * (4 / 5));\r\n    ctx.lineTo(h[0], h[1]);\r\n  }\r\n\r\n}\r\n\r\nexport default Fish;\r\n","/**\r\n * This class contains all information for each lily\r\n */\r\nimport colours from '../colours';\r\n\r\nclass Lily {\r\n  constructor(canvas, size) {\r\n    // Random Position on canvas\r\n    this.pos = [Math.random() * canvas.width, Math.random() * canvas.height];\r\n    // All have same size 30 - CHANGE TO RANDOM SOON\r\n    this.size = size/10;\r\n    // Random velocity [-0.5, -0.5] - [0.5, 0.5]\r\n    this.vel = [Math.random() - 0.5, Math.random() - 0.5];\r\n    // Chooses a random point to put the split of the lily pad\r\n    this.startAngle = Math.PI * 2 * Math.random();\r\n    // 50% if rotates clockwise or anticlockwise\r\n    this.clockwise = Math.random() < 0.5;\r\n    // 25% chance to have a water lily on top\r\n    this.isFlower = Math.random() < 0.25;\r\n  }\r\n\r\n  /**\r\n   * TICK - Moves the entity and rotates the pad\r\n   */\r\n  tick() {\r\n    if (this.clockwise)\r\n      this.startAngle += 0.001;\r\n    else\r\n      this.startAngle -= 0.001;\r\n    this.pos[0] += this.vel[0];\r\n    this.pos[1] += this.vel[1];\r\n  }\r\n\r\n  /**\r\n   * RENDER - Draws the pad with a segment if it has a lily and if it doesn't\r\n   * it draws a full pad with a flower on it\r\n   * Lily = full size dark circle & 3/4 light circle within\r\n   */\r\n  render(canvas, ctx) {\r\n    if (!this.isFlower) {\r\n      let start = this.startAngle;\r\n      // Shadow\r\n      ctx.beginPath();\r\n      ctx.fillStyle = colours.deep_blue;\r\n      ctx.arc(this.pos[0] + 20, this.pos[1] + 20, this.size, 0, Math.PI * 2);\r\n      ctx.fill();\r\n\r\n      // Draw First Half\r\n      ctx.beginPath();\r\n      ctx.fillStyle = colours.light_green;\r\n      ctx.arc(this.pos[0], this.pos[1], this.size, start, Math.PI + start);\r\n      ctx.fill();\r\n      ctx.beginPath();\r\n      ctx.fillStyle = colours.lily_green;\r\n      ctx.arc(this.pos[0], this.pos[1], this.size / 4 * 3, start, Math.PI + start);\r\n      ctx.fill();\r\n      // Draws second half with not full rotation to give the circle the slit\r\n      start += (Math.PI / 180) * 170;\r\n      ctx.beginPath();\r\n      ctx.fillStyle = colours.light_green;\r\n      ctx.arc(this.pos[0], this.pos[1], this.size, start, Math.PI + start);\r\n      ctx.fill();\r\n      ctx.beginPath();\r\n      ctx.fillStyle = colours.lily_green;\r\n      ctx.arc(this.pos[0], this.pos[1], this.size / 4 * 3, start, Math.PI + start);\r\n      ctx.fill();\r\n    } else {\r\n      // Shadow\r\n      ctx.beginPath();\r\n      ctx.fillStyle = colours.deep_blue;\r\n      ctx.arc(this.pos[0] + 20, this.pos[1] + 20, this.size, 0, Math.PI * 2);\r\n      ctx.fill();\r\n      // Draws the full circle\r\n      ctx.beginPath();\r\n      ctx.fillStyle = colours.light_green;\r\n      ctx.arc(this.pos[0], this.pos[1], this.size, 0, Math.PI * 2);\r\n      ctx.fill();\r\n      ctx.beginPath();\r\n      ctx.fillStyle = colours.lily_green;\r\n      ctx.arc(this.pos[0], this.pos[1], this.size / 4 * 3, 0, Math.PI * 2);\r\n      ctx.fill();\r\n      this.drawFlower(ctx);\r\n    }\r\n  }\r\n\r\n  // Draws 3 rings with reducing size and lighter colours\r\n  drawFlower(ctx) {\r\n    let firstRing = this.size / 4;\r\n    this.drawRing(ctx, colours.pink, this.size / 2, this.size / 4 * 3);\r\n    this.drawRing(ctx, colours.delicate_pink, this.size / 4, this.size / 2);\r\n    this.drawRing(ctx, colours.light_pink, this.size / 8, this.size / 3);\r\n    ctx.beginPath();\r\n    ctx.fillStyle = colours.yellow;\r\n    ctx.arc(this.pos[0], this.pos[1], this.size / 8, 0, Math.PI * 2);\r\n    ctx.fill();\r\n  }\r\n\r\n  // Draws 8 petals each at 45 degrees to each other\r\n  drawRing(ctx, fillStyle, w, h) {\r\n    for (let i = 0; i <= Math.PI * 2; i+= Math.PI/4) {\r\n      ctx.save();\r\n      ctx.translate(this.pos[0], this.pos[1]);\r\n      ctx.rotate(i);\r\n      this.drawPetal(ctx, fillStyle, 0, h / 2, w, h);\r\n      ctx.restore();\r\n    }\r\n  }\r\n\r\n  // Draws an elipse with center xy and width w and height h\r\n  drawPetal(ctx, fillStyle, x, y, w, h) {\r\n    ctx.beginPath();\r\n    ctx.fillStyle = fillStyle;\r\n    ctx.moveTo(x, y - h / 2);\r\n    ctx.bezierCurveTo(x + w / 2, y - h / 2, x + w / 2, y + h / 2, x, y + h / 2);\r\n    ctx.bezierCurveTo(x - w / 2, y + h / 2, x - w / 2, y - h / 2, x, y - h / 2);\r\n    ctx.fill();\r\n  }\r\n\r\n}\r\n\r\nexport default Lily;\r\n","/**\r\n * This class contains all information for each tadpole\r\n */\r\n\r\nimport colours from '../colours';\r\n\r\nclass Tadpole {\r\n  constructor(canvas, size) {\r\n    // Random Position on canvas\r\n    this.pos = [Math.random() * canvas.width, Math.random() * canvas.height];\r\n    // Size\r\n    this.size = size/200 * (document.getElementById('tadsize').value / 2);\r\n    // Initially still\r\n    this.vel = [0, 0];\r\n    // 1.5% chance to become leader\r\n    this.leader = Math.random() < 0.015;\r\n    // follow noone until assigned\r\n    this.follow = null;\r\n    // eagerness = how close to the leader the tadpole will follow\r\n    this.eagerness = Math.random() * (document.getElementById('tadeager').value / 2);\r\n  }\r\n\r\n  /**\r\n   * TICK - Moves the entity\r\n   */\r\n  tick() {\r\n    this.pos[0] += this.vel[0];\r\n    this.pos[1] += this.vel[1];\r\n  }\r\n\r\n  /**\r\n   * RENDER - Draws an black ball and two smaller grey balls behind it to\r\n   *  simulate a tail\r\n   */\r\n  render(canvas, ctx) {\r\n    // Draw Body\r\n    ctx.beginPath();\r\n    ctx.fillStyle = colours.registration_black;\r\n    ctx.arc(this.pos[0], this.pos[1], this.size, 0, 2 * Math.PI);\r\n    ctx.fill();\r\n    // Draw Tail\r\n    ctx.beginPath();\r\n    ctx.fillStyle = colours.rasin_black;\r\n    ctx.arc(this.pos[0] - (this.vel[0] * 5), this.pos[1] - (this.vel[1] * 5), this.size / 4 * 3, 0, 2 * Math.PI);\r\n    ctx.fill();\r\n    ctx.beginPath();\r\n    ctx.arc(this.pos[0] - (this.vel[0] * 10), this.pos[1] - (this.vel[1] * 10), this.size / 2, 0, 2 * Math.PI);\r\n    ctx.fill();\r\n  }\r\n\r\n  /**\r\n   * GETLEADER - creates an array of leader tadpoles and radomly chooses\r\n   * which one it will follow\r\n   */\r\n  getLeader(tadpoles) {\r\n    let leaders = [];\r\n    for (let i = 0; i < tadpoles.length; i++) {\r\n      if (this.leader) {\r\n        break;\r\n      }\r\n      if (tadpoles[i].leader)\r\n        leaders.push(i);\r\n    }\r\n    this.follow = leaders[Math.floor(Math.random() * leaders.length)];\r\n  }\r\n}\r\n\r\nexport default Tadpole;\r\n","class Menu {\r\n  constructor(pond) {\r\n    const hide = document.getElementById('hidecheck');\r\n    const refresh = document.getElementById('refresh');\r\n\r\n    this.hidden = false;\r\n    this.screenRatio = 3/4;\r\n    hide.addEventListener('change', e => {\r\n      let x = document.getElementById('selections');\r\n      if (e.target.checked) {\r\n        x.style.display = \"none\";\r\n      } else {\r\n        x.style.display = \"block\";\r\n      }\r\n    });\r\n\r\n    // Initialise the variables\r\n    pond.tadpoleSize = document.getElementById('tadpoles').value;\r\n    pond.fishSize = document.getElementById('fish').value;\r\n    pond.lilySize = document.getElementById('lillies').value;\r\n\r\n    refresh.addEventListener('mouseup', e => {\r\n      pond.tadpoleSize = document.getElementById('tadpoles').value;\r\n      pond.fishSize = document.getElementById('fish').value;\r\n      pond.lilySize = document.getElementById('lillies').value;\r\n      pond.init();\r\n    });\r\n\r\n    // Change Tabs\r\n    const tab1butt = document.getElementById('tab1butt');\r\n    let tab1 = document.getElementById('tab1');\r\n    let pag1 = document.getElementById('p1');\r\n    const tab2butt = document.getElementById('tab2butt');\r\n    let tab2 = document.getElementById('tab2');\r\n    let pag2 = document.getElementById('p2');\r\n    const tab3butt = document.getElementById('tab3butt');\r\n    let tab3 = document.getElementById('tab3');\r\n    let pag3 = document.getElementById('p3');\r\n\r\n    tab1butt.addEventListener('mouseup', e => {\r\n      tab1.style.display = \"block\";\r\n      tab2.style.display = \"none\";\r\n      tab3.style.display = \"none\";\r\n      pag1.classList.add('is-active');\r\n      pag2.classList.remove('is-active');\r\n      pag3.classList.remove('is-active');\r\n    });\r\n\r\n    tab2butt.addEventListener('mouseup', e => {\r\n      tab1.style.display = \"none\";\r\n      tab2.style.display = \"block\";\r\n      tab3.style.display = \"none\";\r\n      pag1.classList.remove('is-active');\r\n      pag2.classList.add('is-active');\r\n      pag3.classList.remove('is-active');\r\n    });\r\n\r\n    tab3butt.addEventListener('mouseup', e => {\r\n      tab1.style.display = \"none\";\r\n      tab2.style.display = \"none\";\r\n      tab3.style.display = \"block\";\r\n      pag1.classList.remove('is-active');\r\n      pag2.classList.remove('is-active');\r\n      pag3.classList.add('is-active');\r\n    });\r\n  }\r\n\r\n}\r\nexport default Menu;\r\n","class Collisions {\r\n  constructor(tadpoles, fish, lillies, background) {\r\n    this.tadpoles = tadpoles;\r\n    this.fish = fish;\r\n    this.lillies = lillies;\r\n    this.background = background;\r\n  }\r\n\r\n  checkTadpoles(movement) {\r\n    for (let i = 0; i < this.tadpoles.length; i++) {\r\n      let pondEdge = this.background.isColliding(this.tadpoles[i].pos);\r\n      if (pondEdge != null) {\r\n        let pos = this.tadpoles[i].pos;\r\n        let dx = pondEdge[0] - pos[0];\r\n        let dy = pondEdge[1] - pos[1];\r\n        let len = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\r\n        movement.smoothing(i, dx / len, dy / len);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkFish(movement) {\r\n    for (let i = 0; i < this.fish.length; i++) {\r\n      let pondEdge = this.background.isColliding(this.fish[i].pos);\r\n      if (pondEdge != null) {\r\n        let pos = this.fish[i].pos;\r\n        let dx = pondEdge[0] - pos[0];\r\n        let dy = pondEdge[1] - pos[1];\r\n        movement.smoothing(i, dx, dy);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkLillies(movement) {\r\n    for (let i = 0; i < this.lillies.length; i++) {\r\n      let pondEdge = this.background.isColliding(this.lillies[i].pos);\r\n      if (pondEdge != null) {\r\n        let pos = this.lillies[i].pos;\r\n        let dx = pondEdge[0] - pos[0];\r\n        let dy = pondEdge[1] - pos[1];\r\n        movement.smoothing(i, dx, dy);\r\n      }\r\n      for (let j = 0; j < this.lillies.length; j++) {\r\n        if (i == j) continue;\r\n        if (this.isColliding(this.lillies[i], this.lillies[j])) {\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  isColliding(a, b) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default Collisions;\r\n","import Movement from './movement'\r\n\r\nclass FishMovement extends Movement {\r\n  constructor(entity, canvas, collisions) {\r\n    super(entity, canvas, collisions);\r\n    this.spacing = 20;\r\n  }\r\n\r\n  move(water) {\r\n    let wiggleRate = 8;\r\n    let wiggleSize = 0.5;\r\n    let speed = document.getElementById('fishspd').value/5;\r\n\r\n    for (let i = 0; i < this.entities.length; i++) {\r\n      let pos = this.entities[i].pos;\r\n      this.edgeCheck(i, pos);\r\n      if (this.entities[i].swimming) {\r\n        this.entities[i].vel[1] = wiggleSize * Math.sin(2 * Math.PI * (this.entities[i].sin / wiggleRate * Math.PI / 180));\r\n        if (Math.random() < 0.002) {\r\n          this.entities[i].swimming = false;\r\n          this.entities[i].vel = [0, 0];\r\n        }\r\n        this.slowing(i, speed);\r\n      } else {\r\n        this.reduce(i);\r\n        if (this.entities[i].vel[0] < 0.01 && this.entities[i].vel[1] < 0.01) {\r\n          if (Math.random() < 0.5) {\r\n            this.entities[i].swimming = true;\r\n            this.entities[i].vel = [(Math.random() - 0.5) * speed, (Math.random() - 0.5) * speed];\r\n          } else {\r\n            // Setting a random direction and speed while not being in the\r\n            // range -1 to 1 as it is too slow\r\n            let velx = (Math.random() > 0.8 ? 1 : -1) * (speed * Math.random() + 1.5);\r\n            let vely = (Math.random() > 0.8 ? 1 : -1) * (speed * Math.random() + 1.5);\r\n            this.entities[i].vel = [velx, vely];\r\n\r\n            // Adding a water drop\r\n            water.dropAt(pos[0], pos[1], this.entities[i].vel[0], this.entities[i].vel[1]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.collisions.checkFish(this);\r\n  }\r\n\r\n  reduce(fish) {\r\n    let redFactor = 0.99;\r\n    let velX = this.entities[fish].vel[0] * redFactor;\r\n    let velY = this.entities[fish].vel[1] * redFactor;\r\n    this.entities[fish].vel = [velX, velY];\r\n  }\r\n}\r\n\r\nexport default FishMovement;\r\n","import Movement from './movement'\r\n\r\nclass LilyMovement extends Movement {\r\n  constructor(entity, canvas, collisions) {\r\n    super(entity, canvas, collisions);\r\n    this.spacing = 20;\r\n  }\r\n\r\n  move() {\r\n    for (let i = 0; i < this.entities.length; i++) {\r\n      let pos = this.entities[i].pos;\r\n      this.edgeCheck(i, pos);\r\n      this.slowing(i, 0.1)\r\n    }\r\n    this.collisions.checkLillies(this);\r\n  }\r\n}\r\n\r\nexport default LilyMovement;\r\n","/*\r\n * MOVEMENT ABSTRACT CLASS\r\n * contains all universal movement methods\r\n */\r\n\r\nclass Movement {\r\n  constructor(entities, canvas, collisions) {\r\n    this.canvas = canvas;\r\n    this.entities = entities;\r\n    this.collisions = collisions;\r\n  }\r\n\r\n  move() {}\r\n\r\n  /*\r\n   * EDGECHECK - checks to see if entity is off the edge of the canvas\r\n   * If so moves the entity back onto the canvas\r\n   */\r\n  edgeCheck(index, pos) {\r\n    if (pos[0] < 0 + this.spacing) {\r\n      this.smoothing(index, 1, 0);\r\n    } else if (pos[1] < 0 + this.spacing) {\r\n      this.smoothing(index, 0, 1);\r\n    } else if (pos[0] > this.canvas.width - (this.spacing * 2)) {\r\n      this.smoothing(index, -1, 0);\r\n    } else if (pos[1] > this.canvas.height - (this.spacing * 2)) {\r\n      this.smoothing(index, 0, -1);\r\n    }\r\n  }\r\n\r\n  /*\r\n   * SMOOTHING - Changes the velocity slightly to make movement smoother\r\n   */\r\n  smoothing(index, velx, vely) {\r\n    let smoothing = 0.005;\r\n    let prevVel = this.entities[index].vel;\r\n    this.entities[index].vel = [prevVel[0] + velx * smoothing,\r\n                                prevVel[1] + vely * smoothing];\r\n  }\r\n\r\n  /*\r\n   * SLOWING - Reduces the velocity to the limit so the entity does not go\r\n   * too fast\r\n   */\r\n  slowing(entity, limit) {\r\n    let prevVel = this.entities[entity].vel;\r\n    if (prevVel[0] > limit)\r\n      prevVel[0] = limit;\r\n    else if (prevVel[0] < -limit)\r\n      prevVel[0] = -limit;\r\n\r\n    if (prevVel[1] > limit)\r\n      prevVel[1] = limit;\r\n    else if (prevVel[1] < -limit)\r\n      prevVel[1] = -limit;\r\n\r\n    this.entities[entity].vel = prevVel;\r\n  }\r\n\r\n}\r\n\r\nexport default Movement;\r\n","/*\r\n * TADMOVEMENT\r\n * All of the movement patterns for tadpoles are contained here\r\n */\r\n\r\nimport Movement from './movement'\r\n\r\nclass TadMovement extends Movement {\r\n  constructor(entity, canvas, collisions) {\r\n    super(entity, canvas, collisions);\r\n    this.spacing = 20;\r\n  }\r\n\r\n  move() {\r\n    // Chance that the tadpole will change their leadership state\r\n    let leaderChance = 0.0000005;\r\n\r\n    // Chance that the tadpole will change the leader they are following\r\n    let followChance = 0.00002;\r\n\r\n\r\n    for (let i = 0; i < this.entities.length; i++) {\r\n      let pos = this.entities[i].pos;\r\n      this.edgeCheck(i, pos);\r\n\r\n      if (this.entities[i].leader) { // Leader\r\n        // Random movement\r\n        this.smoothing(i, (Math.random() - 0.5) * 2, (Math.random() - 0.5) * 2);\r\n\r\n        if (Math.random() < leaderChance) {\r\n          this.entities[i].leader = false;\r\n\r\n          // Makes all tadpoles following that leader find a new leader\r\n          for (let j = 0; j < this.entities.length; j++) {\r\n            if (this.entities[j].follow == i) {\r\n              this.entities[i].getLeader(this.entities);\r\n            }\r\n          }\r\n        }\r\n\r\n      } else if (this.entities[i].follow == null) { // Prevents error\r\n        this.entities[i].getLeader(this.entities);\r\n\r\n      } else { // Non Leader\r\n        // Setting variables\r\n        let leaderPos = this.entities[this.entities[i].follow].pos;\r\n        let disX = pos[0] - leaderPos[0];\r\n        let disY = pos[1] - leaderPos[1];\r\n        // Length between current position and leader position\r\n        let length = Math.sqrt(Math.pow(disX, 2) + Math.pow(disY, 2));\r\n\r\n        if (length == 0) length = 1; // Preventing dividing by zero\r\n        if (length > this.entities[i].eagerness * this.spacing) {\r\n          this.smoothing(i, -(disX) / (length * 2), -(disY) / (length * 2));\r\n        } else {\r\n          this.smoothing(i, (Math.random() - 0.5) * 4, (Math.random() - 0.5) * 4);\r\n        }\r\n\r\n        if (Math.random() < followChance) {\r\n          this.entities[i].getLeader(this.entities);\r\n        }\r\n        if (Math.random() < leaderChance) {\r\n          this.entities[i].leader = true;\r\n        }\r\n\r\n      }\r\n      this.slowing(i, document.getElementById('tadspd').value/20);\r\n    }\r\n    this.collisions.checkTadpoles(this);\r\n  }\r\n}\r\n\r\nexport default TadMovement;\r\n","/**\r\n *  This class contains all the ripple effects to the pond\r\n */\r\nimport colours from '../../colours';\r\n\r\nclass Ripple {\r\n  constructor(dx, dy, vx = 0, vy = 0) {\r\n    this.dx = dx\r\n    this.dy = dy\r\n    this.vx = vx * 10;\r\n    this.vy = vy * 10;\r\n    this.size = 0;\r\n    this.w = 10;\r\n    // larger value == larger ripple size;\r\n    let maxSize = 0.05;\r\n    let minSize = 0.1;\r\n    this.maxSize = maxSize + Math.random() * (minSize - maxSize);\r\n  }\r\n\r\n  tick() {\r\n    this.size += 0.4;\r\n    this.w -= this.maxSize;\r\n  }\r\n\r\n  /**\r\n   * Takes in the original canvas then draws the ripple\r\n   */\r\n  render(canvas, ctx) {\r\n    let x = this.dx;\r\n    let y = this.dy;\r\n    let s = this.size;\r\n    \r\n    ctx.beginPath();\r\n    ctx.lineWidth = this.w;\r\n    ctx.strokeStyle = colours.deep_blue;\r\n    ctx.arc(x, y, s, 0, Math.PI * 2);\r\n    ctx.stroke();\r\n\r\n    if (s > 10) {\r\n      s -= 10;\r\n      x += this.vx;\r\n      y += this.vy;\r\n    }\r\n    ctx.beginPath();\r\n    ctx.lineWidth = this.w/2;\r\n    ctx.strokeStyle = colours.deep_blue;\r\n    ctx.arc(x, y, s, 0, Math.PI * 2);\r\n    ctx.stroke();\r\n  }\r\n}\r\n\r\nexport default Ripple;\r\n","/**\r\n *  This class is a manager for all ripples on the canvas\r\n */\r\n\r\nimport Ripple from './ripple';\r\n\r\nclass Water {\r\n  constructor(canvas, ctx) {\r\n    // For ease of access\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n\r\n    this.ripples = [];\r\n\r\n  }\r\n\r\n  setBackground(background) {\r\n    this.background = background;\r\n  }\r\n\r\n  tick() {\r\n    this.ripples.forEach((r) => r.tick());\r\n    for (let i = 0; i < this.ripples.length; i++) {\r\n      if (this.ripples[i].w < 0) {\r\n        this.ripples.splice(i, 1);\r\n        i--;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Renders all ripples on the canvas\r\n   */\r\n  render() {\r\n    this.ripples.forEach((r) => r.render(this.canvas, this.ctx));\r\n  }\r\n\r\n  /**\r\n   * Resize method recalibrates all the settings such as width and height\r\n   * and size of arrays\r\n   */\r\n  resize() {\r\n\r\n  }\r\n\r\n  /**\r\n   * Simulates a drop starting at the given coordinates\r\n   */\r\n  dropAt(dx, dy, vx = 0, vy = 0) {\r\n    dx <<= 0;\r\n    dy <<= 0;\r\n    if (this.background.isColliding([dx, dy]) == null)\r\n      this.ripples.push(new Ripple(dx, dy, vx, vy));\r\n  }\r\n\r\n  randomDrop() {\r\n    this.dropAt(Math.random() * this.width, Math.random() * this.height);\r\n  }\r\n}\r\n\r\nexport default Water;\r\n","// extracted by mini-css-extract-plugin","/**\r\n * POND: This is the controller of the entire program, this is where\r\n * the program loop is run, containing: render, tick and resize.\r\n */\r\n\r\nimport Background from './background/background';\r\nimport Menu from './menu';\r\n\r\nimport Tadpole from './creature/tadpole';\r\nimport Fish from './creature/fish';\r\nimport Lily from './creature/lily';\r\n\r\nimport Water from './movement/water/water';\r\nimport Collisions from './movement/collisions';\r\nimport TadMovement from './movement/tadMovement';\r\nimport FishMovement from './movement/fishMovement';\r\nimport LilyMovement from './movement/lilyMovement';\r\n\r\n\r\nclass Pond {\r\n  constructor(canvas, ctx) {\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n\r\n    this.water = new Water(canvas, ctx);\r\n\r\n    this.eventListeners();\r\n    this.resize();\r\n    this.init();\r\n    this.loop();\r\n  }\r\n\r\n  /**\r\n   * HTML canvas elements are initiated here and event listeners\r\n   * are created\r\n   */\r\n  eventListeners() {\r\n    this.menu = new Menu(this);\r\n    let mousemovecount = 0;\r\n    canvas.addEventListener(\"mousemove\", () => {\r\n      mousemovecount++;\r\n      if (mousemovecount % 4 == 0) {\r\n        this.water.dropAt(event.clientX, event.clientY);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * All entities are added to their arrays and ther corresponding\r\n   * Movements are initiated\r\n   */\r\n  init() {\r\n    this.background = new Background(canvas, ctx);\r\n    this.water.setBackground(this.background);\r\n    let size = this.background.size;\r\n\r\n    this.tadpoles = [];\r\n    this.fish = [];\r\n    this.lillies = [];\r\n    this.movement = [];\r\n\r\n    // Pushes all tadpoles to their array and sets the first one as\r\n    // leader in case there are no tadpole leaders.\r\n    for (let i = 0; i < this.tadpoleSize; i++)\r\n      this.tadpoles.push(new Tadpole(canvas, size));\r\n    this.tadpoles.forEach((tad) => tad.getLeader(this.tadpoles));\r\n    this.tadpoles[0].leader = true;\r\n\r\n    // Pushes all fish and lillies to their arrays\r\n    for (let i = 0; i < this.fishSize; i++)\r\n      this.fish.push(new Fish(canvas, ctx, size));\r\n\r\n    for (let i = 0; i < this.lilySize; i++)\r\n      this.lillies.push(new Lily(canvas, size));\r\n\r\n    // Sets movement patterns for all entities\r\n    this.collisions = new Collisions(this.tadpoles, this.fish, this.lillies, this.background);\r\n\r\n    this.movement.push(new TadMovement(this.tadpoles, canvas, this.collisions),\r\n                      new FishMovement(this.fish, canvas, this.collisions),\r\n                      new LilyMovement(this.lillies, canvas, this.collisions));\r\n  }\r\n\r\n  loop() {\r\n    window.requestAnimationFrame(() => {\r\n      this.resize();\r\n      this.tick();\r\n      this.render();\r\n      this.loop();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * All tick functions are run for all the movements and for each\r\n   * entity\r\n   */\r\n  tick() {\r\n    this.movement.forEach((m) => m.move(this.water));\r\n    this.tadpoles.forEach((t) => t.tick());\r\n    this.fish.forEach((f) => f.tick());\r\n    this.water.tick();\r\n    this.lillies.forEach((l) => l.tick());\r\n  }\r\n\r\n  /**\r\n   * All render functions are run for all entities\r\n   */\r\n  render() {\r\n    // Clear screen\r\n    this.background.renderPond(canvas, ctx);\r\n\r\n    // Draw to canvas in order of layers\r\n    this.tadpoles.forEach((t) => t.render(canvas, ctx));\r\n    this.fish.forEach((f) => f.render(canvas, ctx));\r\n    this.water.render();\r\n    this.lillies.forEach((l) => l.render(canvas, ctx));\r\n\r\n    // Draw the land on the canvas\r\n    this.background.renderLand(canvas, ctx);\r\n  }\r\n\r\n  /**\r\n   * This is run every frame loop but only gets past the if statement\r\n   * if the window size has changed\r\n   */\r\n  resize() {\r\n    if (canvas.width != window.innerWidth || canvas.height != window.innerHeight) {\r\n      canvas.width = window.innerWidth;\r\n      canvas.height = window.innerHeight;\r\n      this.water.resize();\r\n      this.tadpoleSize = document.getElementById('tadpoles').value;\r\n      this.fishSize = document.getElementById('fish').value;\r\n      this.lilySize = document.getElementById('lillies').value;\r\n      this.init();\r\n    }\r\n  }\r\n\r\n}\r\n\r\nrequire('./mystyles.scss');\r\nconst canvas = document.getElementById(\"myCanvas\");\r\nconst ctx = canvas.getContext(\"2d\");\r\nlet pond = new Pond(canvas, ctx);\r\n"],"sourceRoot":""}